<nav class="h-14 border-b shadow-sm relative z-50" data-testid="main-navigation">
  <div class="h-full px-4 flex items-center justify-between">
    <!-- Logo and Main Nav -->
    <div class="flex items-center space-x-8">
      <%= link_to root_path, class: "font-semibold text-xl" do %>
        ThreeDFour
      <% end %>
      <%= link_to "Games", games_path, class: "text-gray-600 hover:text-gray-900" %>
    </div>

    <!-- User Menu -->
    <% if current_user %>
      <details class="relative">
        <summary class="list-none cursor-pointer">
          <div class="flex items-center space-x-3 py-1 px-2 rounded hover:bg-gray-50">
            <span><%= current_user.username %></span>
            <img src="<%= current_user.avatar_url %>" alt="User avatar" class="w-8 h-8 rounded-full">
          </div>
        </summary>
        <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-[60]">
          <%= link_to "Profile", edit_user_registration_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
          <%= link_to "My Games", my_games_games_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
          <div class="h-px bg-gray-200 my-1"></div>
          <%= button_to "Logout", destroy_user_session_path, method: :delete, 
              class: "w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100" %>
        </div>
      </details>
    <% end %>
  </div>
</nav> 